<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>New zoom</title>

<style>
#zoom-map{width:800px;height:800px;overflow:hidden;position:relative;}
#zoom-map img:first-child{display:block;}
.zoom-pointer{width:50px;height:50px;position:absolute;border-radius:25px;-webkit-border-radius:25px;-moz-border-radius:25px;background-color:#FFF;opacity:.5;cursor:pointer;z-index:3;}
.zoomed{display:none;position:absolute;z-index:2;cursor:pointer;}
</style>
<script type="text/javascript" src="New%20zoom_files/jquery.js"></script>
<script type="text/javascript">
var zoomed_pics=[
'',
];
</script>
<script>
$(document).ready(function(){ 
var zoom_obj="#zoom-map";
var z; // zoom coeff
var x; // x coord of clicked button
var y; // y coord of clicked button
var w; // width of zoomed pic
var h; // height of zoomed
var num; //number of clicked element

var zoom_img=$(zoom_obj).children("img:eq(0)");

var zoom_width=parseInt($(zoom_obj).css("width"))/2;
var zoom_height=parseInt($(zoom_obj).css("height"))/2;

var zoom_pointers=$(".zoom-pointer");

for (i=0;i<zoom_pointers.length;i++){
	w=parseInt($(".zoom-pointer:eq("+i+")").next("img:hidden").css("width"))/2;
	h=parseInt($(".zoom-pointer:eq("+i+")").next("img:hidden").css("height"))/2;
	
	$(".zoom-pointer:eq("+i+")").next("img:hidden").css({"top":(zoom_height-h),"left":(zoom_width-w)})
}

$(".zoom-pointer").click(function(){
	num=$(".zoom-pointer").index(this);
//	console.log(num);
	z=$(this).attr("data-zoom");
	x=$(this).css("left");
	x=parseInt(x);
	y=$(this).css("top");
	y=parseInt(y);
	
	$(zoom_img).fadeTo("fast",.8).animate({
		"marginLeft":(zoom_width-z*x),
		"marginTop":(zoom_height-z*y),
		width:(2*z*zoom_width),
		height:(2*z*zoom_height)}
		,{queue:false,duration:400}
	);

	$(this).animate({left:zoom_width,top:zoom_height,"opacity":"hide"});
	$(".zoom-pointer").animate({"opacity":"hide"});

	setTimeout(
		function(){
			$(zoom_img).fadeTo("fast",1);
			$(".zoomed:eq("+num+")").fadeIn("fast").animate({"opacity":"show"},{duration:400})
		},
		300
	);
	
/*	
	setTimeout(
		function(){
			$(zoom_img).fadeOut("fast");
			$("img:hidden").fadeIn("fast").animate({"opacity":"show"},{duration:"fast"})
		},
		300
	);
*/
});
$(".zoomed").click(function(){
	$(zoom_img).fadeTo("fast",1).animate({
		"marginLeft":0,
		"marginTop":0,
		width:(2*zoom_width),
		height:(2*zoom_height)}
		,{queue:false,duration:400}
	);
	$(this).animate({"opacity":"hide"},{duration:400});
	$(this).prev(".zoom-pointer:hidden").animate({left:x+"px",top:y+"px","opacity":"show"});
	$(".zoom-pointer").animate({"opacity":"show"});
});

});

</script>
</head>

<body>

<div id="zoom-map">
<img style="opacity: 1; margin-left: 0px; margin-top: 0px; width: 800px; height: 800px;" src="New%20zoom_files/HPV-all-stack.jpg" height="800" width="800">
<div class="zoom-pointer" style="top: 400px; left: 640px; display: block;" data-zoom="2.5"></div>
<img style="top: 0px; left: 0px; display: none;" class="zoomed" src="New%20zoom_files/HPV-all-stack-zoom-x1600-y1000.jpg" height="800" width="800">
<div class="zoom-pointer" style="top: 512px; left: 500px; display: block;" data-zoom="2.5"></div>
<img style="top: 0px; left: 0px; display: none;" class="zoomed" src="New%20zoom_files/HPV-all-stack-zoom-x1250-y1280.jpg" height="800" width="800">
</div>


</body></html>